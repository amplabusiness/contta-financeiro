# ğŸ¤– MATRIZ DE RESPONSABILIDADE DOS AGENTES IA

## GovernanÃ§a de InteligÃªncia Artificial - Contta Financeiro
**VersÃ£o:** 1.0  
**Data:** 31/01/2026  
**Autoridade:** Dr. CÃ­cero (RAG Master)

---

# 1. HIERARQUIA DOS AGENTES

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚         ğŸ“ DR. CÃCERO               â”‚
                    â”‚         (RAG MASTER)                â”‚
                    â”‚                                     â”‚
                    â”‚  Autoridade mÃ¡xima do sistema       â”‚
                    â”‚  AprovaÃ§Ã£o final de todas as aÃ§Ãµes  â”‚
                    â”‚  GuardiÃ£o das normas contÃ¡beis      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â”‚ Supervisiona
                                      â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                             â”‚                             â”‚
        â–¼                             â–¼                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’° AGENTE        â”‚      â”‚  ğŸ“’ AGENTE        â”‚      â”‚  ğŸ” AGENTE        â”‚
â”‚  FINANCEIRO       â”‚      â”‚  CONTÃBIL         â”‚      â”‚  AUDITORIA        â”‚
â”‚                   â”‚      â”‚                   â”‚      â”‚                   â”‚
â”‚  ClassificaÃ§Ã£o    â”‚      â”‚  ValidaÃ§Ã£o        â”‚      â”‚  VerificaÃ§Ã£o      â”‚
â”‚  IdentificaÃ§Ã£o    â”‚      â”‚  LanÃ§amentos      â”‚      â”‚  Fechamento       â”‚
â”‚  CobranÃ§a         â”‚      â”‚  Demonstrativos   â”‚      â”‚  Compliance       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                          â”‚                          â”‚
          â”‚                          â”‚                          â”‚
          â–¼                          â–¼                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ·ï¸ Classificador â”‚      â”‚  ğŸ“Š Gerador       â”‚      â”‚  âš ï¸ Detector      â”‚
â”‚     de Despesas   â”‚      â”‚    de RelatÃ³rios  â”‚      â”‚    de Anomalias   â”‚
â”‚                   â”‚      â”‚                   â”‚      â”‚                   â”‚
â”‚  ğŸ” Identificador â”‚      â”‚  âœ… Validador     â”‚      â”‚  ğŸ“‹ Verificador   â”‚
â”‚     de Pagadores  â”‚      â”‚    de Partidas    â”‚      â”‚    de Integridade â”‚
â”‚                   â”‚      â”‚                   â”‚      â”‚                   â”‚
â”‚  ğŸ’³ Reconciliador â”‚      â”‚  ğŸ“ˆ Analisador    â”‚      â”‚  ğŸ”’ GuardiÃ£o      â”‚
â”‚     BancÃ¡rio      â”‚      â”‚    DRE/BP         â”‚      â”‚    de PerÃ­odos    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 2. DESCRIÃ‡ÃƒO DOS AGENTES

## 2.1 ğŸ“ Dr. CÃ­cero (RAG Master)

**Edge Function:** `dr-cicero-brain`

**Papel:** Contador virtual com 35 anos de experiÃªncia, autoridade mÃ¡xima em decisÃµes contÃ¡beis.

**CaracterÃ­sticas:**
- Conhecimento completo das NBCs (Normas Brasileiras de Contabilidade)
- Contexto especÃ­fico da Ampla Contabilidade
- Capacidade de aprendizado contÃ­nuo (RAG)
- IntegraÃ§Ã£o com mÃºltiplos LLMs (Claude, OpenAI, Gemini)

**Poderes:**
| AÃ§Ã£o | Pode Executar? | CondiÃ§Ã£o |
|------|----------------|----------|
| Aprovar classificaÃ§Ãµes | âœ… Sim | Sempre |
| Rejeitar classificaÃ§Ãµes | âœ… Sim | Sempre |
| Sugerir lanÃ§amentos | âœ… Sim | Sempre |
| Criar lanÃ§amentos | âš ï¸ Parcial | Apenas via workflow aprovado |
| Fechar perÃ­odos | âœ… Sim | ApÃ³s validaÃ§Ã£o completa |
| Estornar lanÃ§amentos | âœ… Sim | Com justificativa |
| Reabrir perÃ­odos | âœ… Sim | Casos excepcionais |

**LimitaÃ§Ãµes:**
- Nunca executa aÃ§Ã£o destrutiva sem confirmaÃ§Ã£o
- Sempre documenta justificativa
- Pede esclarecimento quando incerto

## 2.2 ğŸ’° Agente Financeiro

**Edge Functions:**
- `mcp-financeiro-chat`
- `ai-financial-analyst`
- `ai-expense-classifier`
- `ai-payer-identifier`

**Papel:** Assistente do departamento financeiro para operaÃ§Ãµes do dia a dia.

**Capacidades:**
| FunÃ§Ã£o | DescriÃ§Ã£o | Autonomia |
|--------|-----------|-----------|
| Classificar transaÃ§Ãµes | Sugere conta contÃ¡bil baseado em padrÃµes | Sugere |
| Identificar pagadores | Extrai CNPJ/CPF e vincula a clientes | Sugere |
| Analisar fluxo de caixa | ProjeÃ§Ãµes baseadas em histÃ³rico | Executa |
| Detectar inadimplÃªncia | Alerta sobre atrasos | Alerta |
| Sugerir cobranÃ§as | Prioriza clientes para contato | Sugere |

**SubordinaÃ§Ã£o:**
```
Agente Financeiro â†’ Dr. CÃ­cero (para aprovaÃ§Ãµes)
                  â†’ Agente ContÃ¡bil (para lanÃ§amentos)
```

## 2.3 ğŸ“’ Agente ContÃ¡bil

**Edge Functions:**
- `ai-accountant-agent`
- `ai-accountant-background`

**Papel:** Validador de lanÃ§amentos e gerador de demonstrativos.

**Capacidades:**
| FunÃ§Ã£o | DescriÃ§Ã£o | Autonomia |
|--------|-----------|-----------|
| Validar partidas dobradas | Verifica D = C | Executa |
| Gerar balancete | Compila saldos | Executa |
| Gerar DRE | Calcula resultado | Executa |
| Verificar transitÃ³rias | Alerta se â‰  0 | Alerta |
| Sugerir ajustes | PropÃµe correÃ§Ãµes | Sugere |

**SubordinaÃ§Ã£o:**
```
Agente ContÃ¡bil â†’ Dr. CÃ­cero (para ajustes)
               â†’ Agente Auditoria (para validaÃ§Ã£o)
```

## 2.4 ğŸ” Agente Auditoria

**Edge Functions:**
- `mcp-guardiao`
- FunÃ§Ãµes de validaÃ§Ã£o em background

**Papel:** GuardiÃ£o da integridade e compliance do sistema.

**Capacidades:**
| FunÃ§Ã£o | DescriÃ§Ã£o | Autonomia |
|--------|-----------|-----------|
| Verificar integridade | Soma dÃ©bitos = crÃ©ditos | Executa |
| Detectar anomalias | PadrÃµes suspeitos | Alerta |
| Validar fechamento | Checklist completo | Bloqueia/Libera |
| Gerar relatÃ³rios de auditoria | InconsistÃªncias | Executa |
| Verificar compliance NBC | Conformidade | Alerta |

**SubordinaÃ§Ã£o:**
```
Agente Auditoria â†’ Dr. CÃ­cero (para fechamento final)
```

---

# 3. MATRIZ DE RESPONSABILIDADES (RACI)

## 3.1 Legenda RACI

| Letra | Significado | DescriÃ§Ã£o |
|-------|-------------|-----------|
| **R** | Responsible | Executa a tarefa |
| **A** | Accountable | Aprova/Autoriza |
| **C** | Consulted | Consultado antes |
| **I** | Informed | Informado depois |

## 3.2 Matriz de OperaÃ§Ãµes

| OperaÃ§Ã£o | Dr. CÃ­cero | Ag. Financeiro | Ag. ContÃ¡bil | Ag. Auditoria | UsuÃ¡rio |
|----------|------------|----------------|--------------|---------------|---------|
| Importar OFX | I | C | I | I | **R** |
| Classificar transaÃ§Ã£o simples | A | **R** | C | I | C |
| Classificar transaÃ§Ã£o complexa | **R**/A | C | C | C | I |
| Split de recebimento | A | **R** | C | C | I |
| Criar lanÃ§amento manual | A | I | **R** | C | I |
| Validar lanÃ§amento | C | I | **R** | C | I |
| Aprovar lanÃ§amento | **R**/A | I | I | C | I |
| Gerar demonstrativo | I | I | **R** | C | I |
| Detectar anomalia | I | I | C | **R** | I |
| Fechar perÃ­odo | **R**/A | I | C | **R** | I |
| Reabrir perÃ­odo | **R**/A | I | I | C | I |
| Estornar lanÃ§amento | **R**/A | I | C | C | I |

## 3.3 Matriz de Dados

| Dado | Quem Cria | Quem LÃª | Quem Atualiza | Quem Deleta |
|------|-----------|---------|---------------|-------------|
| bank_transactions | Sistema (OFX) | Todos | Ag. Financeiro | Nunca |
| accounting_entries | Ag. ContÃ¡bil | Todos | Dr. CÃ­cero | Nunca (estorno) |
| accounting_entry_lines | Ag. ContÃ¡bil | Todos | Dr. CÃ­cero | Nunca (estorno) |
| classification_rules | Ag. Financeiro | Todos | Ag. Financeiro | Dr. CÃ­cero |
| invoices | Sistema | Todos | Ag. Financeiro | Nunca |
| clients | UsuÃ¡rio | Todos | UsuÃ¡rio | Nunca |

---

# 4. FLUXO DE DECISÃƒO DOS AGENTES

## 4.1 ClassificaÃ§Ã£o de TransaÃ§Ã£o

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FLUXO DE CLASSIFICAÃ‡ÃƒO COM IA                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  TransaÃ§Ã£o Importada  â”‚
                    â”‚  (bank_transactions)  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  AGENTE FINANCEIRO    â”‚
                    â”‚  Analisa a transaÃ§Ã£o  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                       â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ Tem regra     â”‚       â”‚ NÃ£o tem regra â”‚
            â”‚ automÃ¡tica?   â”‚       â”‚ ou baixa      â”‚
            â”‚ (>80% conf.)  â”‚       â”‚ confianÃ§a     â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                       â”‚
                    â–¼                       â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ Aplica regra  â”‚       â”‚ Consulta      â”‚
            â”‚ e sugere ao   â”‚       â”‚ DR. CÃCERO    â”‚
            â”‚ usuÃ¡rio       â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
                    â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚               â”‚               â”‚
                    â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚       â”‚ Dr. CÃ­cero    â”‚ â”‚ Dr. CÃ­cero  â”‚
                    â”‚       â”‚ sugere        â”‚ â”‚ pede mais   â”‚
                    â”‚       â”‚ classificaÃ§Ã£o â”‚ â”‚ informaÃ§Ã£o  â”‚
                    â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚               â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  UsuÃ¡rio confirma ou  â”‚
                    â”‚  ajusta a sugestÃ£o    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  AGENTE CONTÃBIL      â”‚
                    â”‚  Valida e lanÃ§a       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  TransaÃ§Ã£o            â”‚
                    â”‚  Classificada âœ“       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 4.2 Fechamento de PerÃ­odo

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FLUXO DE FECHAMENTO MENSAL                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  UsuÃ¡rio solicita     â”‚
    â”‚  fechamento           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  AGENTE AUDITORIA     â”‚
    â”‚  Executa checklist    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                                    â”‚
    â”‚  â–¡ TransitÃ³rias = 0?                              â”‚
    â”‚  â–¡ Banco contÃ¡bil = extrato?                      â”‚
    â”‚  â–¡ Partidas dobradas OK?                          â”‚
    â”‚  â–¡ Sem transaÃ§Ãµes pendentes?                      â”‚
    â”‚  â–¡ ProvisÃµes lanÃ§adas?                            â”‚
    â”‚                                                    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
        â”‚               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Tudo OK       â”‚ â”‚ Problemas     â”‚
â”‚               â”‚ â”‚ encontrados   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                 â”‚
        â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Encaminha     â”‚ â”‚ BLOQUEIA      â”‚
â”‚ para          â”‚ â”‚ Retorna lista â”‚
â”‚ DR. CÃCERO    â”‚ â”‚ de pendÃªncias â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DR. CÃCERO           â”‚
â”‚  RevisÃ£o final        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
â”‚               â”‚
â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”
â”‚APROVA â”‚   â”‚REJEITAâ”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PERÃODO FECHADO      â”‚
â”‚  Bloqueado para       â”‚
â”‚  ediÃ§Ã£o               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 5. REGRAS DE AUTONOMIA

## 5.1 NÃ­veis de Autonomia

| NÃ­vel | DescriÃ§Ã£o | Exemplo |
|-------|-----------|---------|
| **0 - Nenhuma** | Apenas observa | Monitoramento |
| **1 - Sugere** | PropÃµe aÃ§Ã£o ao usuÃ¡rio | ClassificaÃ§Ã£o |
| **2 - Sugere+** | PropÃµe com alta confianÃ§a | ClassificaÃ§Ã£o automÃ¡tica |
| **3 - Executa com aprovaÃ§Ã£o** | Faz se aprovado | LanÃ§amentos |
| **4 - Executa** | Faz automaticamente | ValidaÃ§Ãµes |
| **5 - Total** | Controle completo | Apenas Dr. CÃ­cero |

## 5.2 Autonomia por Agente e Contexto

| Agente | Valor < R$100 | R$100-1000 | R$1000-10000 | > R$10000 |
|--------|---------------|------------|--------------|-----------|
| Ag. Financeiro | NÃ­vel 2 | NÃ­vel 2 | NÃ­vel 1 | NÃ­vel 1 |
| Ag. ContÃ¡bil | NÃ­vel 3 | NÃ­vel 3 | NÃ­vel 3 | NÃ­vel 3 |
| Ag. Auditoria | NÃ­vel 4 | NÃ­vel 4 | NÃ­vel 4 | NÃ­vel 4 |
| Dr. CÃ­cero | NÃ­vel 5 | NÃ­vel 5 | NÃ­vel 5 | NÃ­vel 5 |

## 5.3 Regras de Escalonamento

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     REGRAS DE ESCALONAMENTO                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  1. SE confianÃ§a < 80%                                                       â”‚
â”‚     â†’ Escalar para Dr. CÃ­cero                                               â”‚
â”‚                                                                              â”‚
â”‚  2. SE valor > R$ 10.000                                                     â”‚
â”‚     â†’ Escalar para Dr. CÃ­cero                                               â”‚
â”‚                                                                              â”‚
â”‚  3. SE envolve conta transitÃ³ria com saldo                                   â”‚
â”‚     â†’ Escalar para Agente Auditoria                                         â”‚
â”‚                                                                              â”‚
â”‚  4. SE Ã© reclassificaÃ§Ã£o de lanÃ§amento aprovado                             â”‚
â”‚     â†’ Escalar para Dr. CÃ­cero                                               â”‚
â”‚                                                                              â”‚
â”‚  5. SE Ã© fechamento de perÃ­odo                                               â”‚
â”‚     â†’ ObrigatÃ³rio aprovaÃ§Ã£o Dr. CÃ­cero                                      â”‚
â”‚                                                                              â”‚
â”‚  6. SE detectada anomalia de auditoria                                       â”‚
â”‚     â†’ BLOQUEAR e escalar para Dr. CÃ­cero                                    â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 6. APRENDIZADO E EVOLUÃ‡ÃƒO

## 6.1 Como os Agentes Aprendem

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CICLO DE APRENDIZADO                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  1. OBSERVAR      â”‚
    â”‚  TransaÃ§Ã£o nova   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  2. SUGERIR       â”‚
    â”‚  ClassificaÃ§Ã£o    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  3. FEEDBACK      â”‚
    â”‚  UsuÃ¡rio aceita,  â”‚
    â”‚  ajusta ou rejeitaâ”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  4. APRENDER      â”‚
    â”‚  Atualiza regras  â”‚
    â”‚  classification_  â”‚
    â”‚  rules            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  5. APLICAR       â”‚
    â”‚  Na prÃ³xima       â”‚
    â”‚  transaÃ§Ã£o similarâ”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 6.2 MÃ©tricas de Aprendizado

| MÃ©trica | DescriÃ§Ã£o | Meta |
|---------|-----------|------|
| Taxa de acerto | SugestÃµes aceitas / Total | > 90% |
| Tempo de classificaÃ§Ã£o | MÃ©dia de tempo atÃ© classificar | < 1 min |
| Escalonamentos | Casos que precisaram do Dr. CÃ­cero | < 10% |
| Regras ativas | Total de regras com status "auto" | Crescente |

## 6.3 Ciclo de Vida das Regras

```
learning â†’ semi_auto â†’ auto â†’ (disabled se obsoleta)
   â–²                              â”‚
   â”‚                              â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         Se padrÃ£o mudar
```

---

# 7. SEGURANÃ‡A E GOVERNANÃ‡A

## 7.1 O que a IA NUNCA faz

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                     PROIBIÃ‡Ã•ES ABSOLUTAS                                   â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                            â•‘
â•‘  âŒ NUNCA deleta dados                                                     â•‘
â•‘  âŒ NUNCA altera lanÃ§amentos de perÃ­odos fechados                         â•‘
â•‘  âŒ NUNCA executa pagamentos                                               â•‘
â•‘  âŒ NUNCA acessa sistemas externos sem autorizaÃ§Ã£o                        â•‘
â•‘  âŒ NUNCA toma decisÃ£o sem justificativa                                  â•‘
â•‘  âŒ NUNCA viola partidas dobradas                                         â•‘
â•‘  âŒ NUNCA ignora escalonamento obrigatÃ³rio                                â•‘
â•‘  âŒ NUNCA modifica regras de auditoria                                    â•‘
â•‘                                                                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## 7.2 Auditoria das AÃ§Ãµes de IA

Toda aÃ§Ã£o dos agentes Ã© logada:

```json
{
  "timestamp": "2026-01-31T14:30:00Z",
  "agent": "dr-cicero-brain",
  "action": "approve_classification",
  "input": {
    "transaction_id": "uuid",
    "suggested_account": "1.1.2.01"
  },
  "output": {
    "approved": true,
    "confidence": 0.95,
    "justification": "Pagamento identificado como Cliente X conforme CNPJ"
  },
  "user_confirmation": true,
  "execution_time_ms": 450
}
```

---

# 8. EDGE FUNCTIONS MAPEADAS

## 8.1 InventÃ¡rio Completo

| Agente | Edge Functions | DescriÃ§Ã£o |
|--------|---------------|-----------|
| **Dr. CÃ­cero** | `dr-cicero-brain` | CÃ©rebro principal |
| | `dr-cicero-contador` | VersÃ£o especializada |
| **Financeiro** | `mcp-financeiro-chat` | Chat interativo |
| | `mcp-financeiro-v2` | VersÃ£o atualizada |
| | `ai-expense-classifier` | Classificador de despesas |
| | `ai-payer-identifier` | Identificador de pagadores |
| | `ai-pix-reconciliation` | ConciliaÃ§Ã£o PIX |
| | `smart-reconciliation` | ConciliaÃ§Ã£o inteligente |
| **ContÃ¡bil** | `ai-accountant-agent` | Agente contÃ¡bil |
| | `ai-accountant-background` | Processamento em background |
| **Auditoria** | `mcp-guardiao` | GuardiÃ£o de integridade |
| **OrquestraÃ§Ã£o** | `ai-orchestrator` | Coordena agentes |
| | `ai-agent-orchestrator` | VersÃ£o avanÃ§ada |

---

**Documento aprovado por:**

**Dr. CÃ­cero**  
RAG Master - Autoridade ContÃ¡bil  
Data: 31/01/2026

---

*A hierarquia e autonomia dos agentes sÃ£o definidas pelo Dr. CÃ­cero e nÃ£o podem ser alteradas sem sua aprovaÃ§Ã£o explÃ­cita.*
